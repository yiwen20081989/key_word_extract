混合硬盘驾临 希捷Momentus XT详测
　　几年前，我们曾把HHD（Hybrid Hard Drive）混合硬盘视为存储行业的未来。但在众企业的种种宣誓、展望后，如今的存储市场却分化为两个完全割裂的部分：HDD和SSD。如果你甘愿付出高 价格并且忍受小容量，那么现在的SSD已经非常快速且可靠。大容量和廉价则仍是HDD传统硬盘占据市场主流的关键。
　　对于桌面PC来说，这并不是什么大问题，用户完全可以选择一块固态硬盘安装操作系统和软件，再搭配传统硬盘进行大容量数据存储。事实上目前很多 的中高端用户就是这么做的。但对于笔记本来说，由于绝大多数机型都只有一个硬盘位，用户只能在SSD和HDD中进行选择，否则就需要忍受外接移动硬盘的不 便。好在从今天开始，这种情况终于要改变了。希捷发布了自己的首款混合硬盘Momentus XT，而下面就是Anandtech网站对它进行的测试。
　　首先我们来认识一下什么叫做混合硬盘。简单的说，它就是一块传统的机械硬盘，但内置了部分NAND闪存以利快速访问。从理论上来说，一块混合硬 盘就可以结合闪存与硬盘的优势，完成HDD+SSD的工作：将小尺寸、经常访问的数据放在闪存上，而将大容量、非经常访问的数据存储在磁盘上。
　　对于Momentus XT来说，它的实质是一块2.5寸7200rpm硬盘，拥有希捷2.5寸民用盘史上最大的32MB缓存，加上一颗4GB容量的SLC NAND闪存颗粒，再用控制器来管理将哪些数据存放至闪存即可。
　　在Momentus XT中，闪存扮演了纯粹的读取缓存的角色——写入工作与NAND完全无关。硬盘会监视LBA寻址记录，将那些最经常访问的扇区中的数据复制到闪存中。一旦软件再要求访问这些数据，就能够直接从闪存中快速读出，反之则继续访问磁盘。
　　理论上来讲，当数据从NAND闪存读取时，磁盘可以降速节能。不过在实际操作中，由于闪存容量不大，很难出现数据连续从NAND读出的情况。因 此，实际上会出现小部分数据从NAND读出，大部分数据仍从磁盘读出的情况。这可能会导致一种尴尬，因为以往磁盘都是在开始读写数据时提速，而现在可能会 在一组数据访问中间出现提速动作。
　　即使用户关机，保存在Momentus XT闪存中的数据也不会丢失，除非进行格式化或碎片整理。和传统硬盘一样，用户仍然需要进行磁盘碎片整理，但这会让闪存中通过“学习”保存下来的缓存清零，因此对于这样的硬盘用户最好降低碎片整理的频率。
　　闪存这种“学习”最常读取数据的机制，在操作系统启动的测试中体现最为明显。如下图，分别使用一块SandForce SF-1200控制器的博帝Inferno固态硬盘，西部数据万转VelociRaptor 600GB硬盘，以及希捷Momentus XT测试操作系统启动时间。
　　可以看到，第一次启动时，两块HDD硬盘都要花去超过30秒。而到了第二次启动，Momentus XT的速度已经超越了万转的VelociRaptor，接近于固态硬盘。显然，硬盘将操作系统所需的小容量数据复制到了闪存当中。
　　很多用户可能会质疑为何只使用4GB容量闪存，而不是更大的容量。这肯定与希捷的工作方式有关。我们在上面已经提到，这4GB闪存仅用作读取缓 存，用户无法直接向闪存中写入数据。这种工作方式简化了硬盘对闪存的管理，不需要像固态硬盘控制器那样考虑用户向NAND闪存写入数据数据时的空间分配问 题。由于使用了SLC闪存，也不需要再考虑闪存寿命、负载均衡问题。
　　显然，如果拥有更大的容量，希捷的这种缓存算法应当会拥有更强的性能。但希捷表示，4GB是他们认为目前性价比最高的选择。而如果混合硬盘的模 式受到了欢迎，希捷也会考虑让NAND闪存支持写入缓存。只是那样会让整个混合硬盘的工作模式更加趋近于SSD，复杂性大大增加。

